<div class="container">
  <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="form">
    <h1>Authentification <span style="color: #3ebee6">SNCF</span></h1>

    <div class="form-group">
      <div class="identifiant-group">
        <label for="name" class="required">
          Identifiant (n°CP)
        </label>
        <input
          type="text"
          name="name"
          class="box"
          placeholder="1234567A"
          minlength="8"
          maxlength="8"
          pattern="^\d{7}[a-zA-Z]$"
          [(ngModel)]="CP"
          #nameInput="ngModel"
          required
        />
      </div>
      
      <div
        class="form-group"
        [hidden]="
          !nameInput.invalid || nameInput.pristine || nameInput.value === ''
        "
      >
        <div
          *ngIf="nameInput.errors?.['minlength'] || nameInput.errors?.['maxlength']"
          class="invalid-password"
        >
          ⚠️ Veuillez rentrer un n°CP valide
        </div>
      </div>
    </div>
    
    <div class="identifiant-group">
      <label for="password"
        >Mot de passe</label
      >
      <input
        type="password"
        name="password"
        [type]="passwordType"
        class="box"
        placeholder="***********"
        [(ngModel)]="password"
        required
      />
    </div>
    
    <div class="mdp">
      <label for="afficherMotDePasse" class="form-check-label">
        <input
          type="checkbox"
          id="afficherMotDePasse"
          name="afficherMotDePasse"
          class="form-check-input"
          [(ngModel)]="afficherMotDePasse"
          (click)="updatePasswordVisibility()"
        />
        <div id="afficher-mdp">Afficher mot de passe</div>
      </label>
    </div>
    
    <button type="submit">Connexion</button>
  </form>  
  <img src="/assets/images/Sujet.png" alt="login-figurine" />
</div>
